# =============================================================================
# YDMS 生产环境配置模板
# =============================================================================
# 复制此文件为 .env 并填写真实配置
# 注意：修改密码后请确保数据库连接信息一致

# 项目配置
COMPOSE_PROJECT_NAME=ydms

# =============================================================================
# HTTP 端口配置
# =============================================================================
# 外部访问端口
HTTP_PORT=9001
HTTPS_PORT=9002

# YDMS 应用内部端口（一般不需要修改）
YDMS_HTTP_PORT=9180

# =============================================================================
# 数据库配置
# =============================================================================
# PostgreSQL 配置
POSTGRES_DB=ydms
POSTGRES_USER=ydms_user
POSTGRES_PASSWORD=请修改为安全的数据库密码

# 注意：PostgreSQL 仅在 Docker 内部网络访问，不暴露到宿主机
# 如需从宿主机访问数据库调试，请在 docker-compose.yml 中取消 ports 注释

# 数据库连接URL（由 YDMS 应用使用，会根据上述配置自动生成）
# 格式：postgres://用户名:密码@主机:端口/数据库名
DB_URL=postgres://ydms_user:请修改为安全的数据库密码@postgres:5432/ydms?sslmode=disable

# =============================================================================
# NDR 服务配置
# =============================================================================
# NDR 服务地址（根据实际部署环境修改）
YDMS_NDR_BASE_URL=http://192.168.1.x:9001

# NDR API 认证密钥（请从 NDR 服务获取）
YDMS_NDR_API_KEY=api-key-1-31

# NDR 管理员密钥（请从 NDR 服务获取）
YDMS_ADMIN_KEY=destructive-api-key-1-31

# =============================================================================
# JWT 认证配置
# =============================================================================
# JWT 签名密钥（请使用强随机字符串）
YDMS_JWT_SECRET=ydms-jwt-secret

# JWT 过期时间
YDMS_JWT_EXPIRY=24h

# =============================================================================
# 应用配置
# =============================================================================
# 默认用户ID
YDMS_DEFAULT_USER_ID=ydms_user

# 默认超级管理员（可选，未设置时使用 super_admin/admin123456）
YDMS_DEFAULT_ADMIN_USERNAME=super_admin
YDMS_DEFAULT_ADMIN_PASSWORD=admin123456
YDMS_DEFAULT_ADMIN_DISPLAY_NAME=超级管理员

# 调试模式（生产环境建议设为 0）
YDMS_DEBUG_TRAFFIC=0

# =============================================================================
# 部署脚本配置（一般不需要修改）
# =============================================================================
# 远程服务器配置
REMOTE_HOST=192.168.1.31
REMOTE_USER=dy_prod
REMOTE_DIR=~/ydms9001

# 镜像配置
IMAGE_NAME=ydms
IMAGE_TAG=prod
